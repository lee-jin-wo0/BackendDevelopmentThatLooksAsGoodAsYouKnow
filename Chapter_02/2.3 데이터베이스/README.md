# 2.3 데이터베이스

**데이터** : 클라이언트와 서버가 네트워크 통신을 통해 주고받는 것. 데이터는 데이터베이스에 저장해 관리함.

<br />

## 2.3.1 데이터베이스와 DBMS

**파일 시스템(File System)** : 데이터를 개별 파일에 저장해 관리. 데이터의 양이 늘어날수록 관리하기 어렵고 비용 부담이 큼.

**데이터베이스** : 'Data(자료)'와 'Base(기반)'가 합쳐진 말로 데이터를 저장하는 일종의 거대한 창고. 파일 시스템의 단점을 극복하고 데이터를 보다 체계적으로 관리.

**DBMS(DataBase Management System)** : 데이터를 효율적으로 관리하기 위해 사용하는 시스템. 데이터베이스는 그 자체로 조직화된 데이터의 집합일 뿐, 데이터베이스에 접근해 데이터를 생성, 조회, 수정, 삭제하려면 DBMS라는 소프트웨어를 사용해야함.

<br />

## 2.3.2 데이터 저장 방식

### 엔티티와 속성

**엔티티(Entity)** : 데이터베이스에서 표현하려는 유, 무형의 객체. 일반적으로 사람, 장소, 물건, 사건, 개념 등과 같은 명사가 엔티티에 해당.

**속성(Attribute)** : 엔티티의 성질을 나타내는 엔티티의 구성 요소. 어떤 사물의 성질이나 특징을 말함.

<br />

### 릴레이션

**릴레이션(Relation)** : 데이터베이스에서 데이터를 저장하는 기본 단위. 일반적으로 엔티티에 관한 데이터를 릴레이션 하나에 담아 관리함.

**테이블(Table)** : 데이터를 행과 열로 이뤄진 표 형태로 저장하는 관계형 데이터베이스.

**튜플(Tuple)** : 행 단위의 데이터.

<br />

### 도메인

**도메인(Domain)** : 릴레이션 내의 각 속성이 가질 수 있는 값의 집합.

<br />

### 키

**키(Key)** : 테이블 내 속성 간의 관계와 테이블 간의 관계를 좀 더 명확하게 하기 위해 지정된 특별한 속성.

**유일성(Uniqueness)** : 속성 값이 중복되면 안된다는 것.

**최소성(Minimality)** : 키가 최소한의 속성으로 구성돼야 한다는 것.

<br />

:key: **기본키(PK, Primary Key)** : 유일성과 최소성을 충족하는 키. 테이블의 각 튜플이 구별돼야 하므로 반드시 기본키가 있어야 함.

:key: **외래키(FK, Foreign Key)** : 다른 테이블의 기본키를 참조하는 키. 두 테이블 간의 관계를 나타내기 위해 사용.

<br />

## 2.3.3 데이터베이스 설계

데이터 베이스 설계는 **요구 사항 분석** :arrow_right: **개념적 설계** :arrow_right: **논리적 설계** :arrow_right: **물리적 설계** 순으로 진행

<br />

### 요구 사항 분석

최적의 데이터 베이스 구조를 설계하려면 필요한 요구 사항을 파악하고 분석해야 함.

<br />

### 개념적 설계

개념적 설계는 크게 **엔티티와 속성 추출**, **관계 추출**로 나뉨.

**엔티티와 속성 추출** : 요구사항 분석으로 얻은 의미 있는 명사와 그 성질을 추출하는 작업. 해당 서비스의 요구 사항을 충족하기 위해 무엇을 엔티티로 정해야 할지 고민해야함.

**관계 추출** : 엔티티와 엔티티의 관계를 표현하는 동사를 추출하는 과정.

**ERD(Entity RelationShip Diagram)**  : 엔티티와 엔티티의 관계를 나타내는 다이어그램

 <br />

### 논리적 설계

개념적 설계 단계에서 만든 ERD를 바탕으로 각 속성의 도메인과 제약 조건 등을 결정하고 문서화함.

<br />

### 물리적 설계

개념적 설계와 논리적 설계를 통해 구성한 데이터베이스 구조를 실제로 우리가 사용하는 컴퓨터 안에서 구현할 수 있도록 설계하는 단계. 데이터베이스의 데이터를 하드디스크 등의 물리적 저장 장치에 담을 수 있도록 데이터의 저장 방식, 접근 경로, 탐색 기법 등을 설계함.

<br />

## 2.3.4 데이터베이스 정규화

**이상 현상(Anomaly)** : 필요하지 않은 테이블까지 조회되는 현상.

<br />

:spiral_notepad: 이상 현상의 세 가지 구분.

:one: **삽입 이상(Insertion Anomaly)** : 새로운 데이터를 삽입할 때 불필요한 데이터가 함께 삽입되는 현상.

:two: **갱신 이상(Update Anomaly)** : 중복된 데이터 값 중 일부 값만 변경함으로써 데이터가 불일치 되는 현상.

:three: **삭제 이상(Delete Anomaly)** : 특정 데이터를 삭제할 때 다른 데이터까지 삭제되는 현상.

<br />

이러한 이상 현상을 방지하기 위해 **정규화(Normalization)**를 수행해야 함. 한 테이블에 필요 없는 속성이 저장되는 것을 최대한 막아 저장 공간을 효율적으로 사용하고, 각종 수정으로 인해 데이터가 불일치되는 위험을 줄임으로써 데이터가 항상 일관된 값을 유지할 수 있도록 정규화를 수행함.

<br />

### 정규화 방법 

정규화는 제1정규화(1NF), 제2정규화(2NF), 제3정규화(3NF), BCNF, 제4정규화(4NF), 제5정규화(5NF)와 같이 여러 단계를 거치며 하나의 테이블을 분해해 이상 현상이 발생하지 않게 함.

**제1정규화** : 테이블 한 칸, 즉 속성 값 하나에 2개 이상의 값이 들어가면 안 되는 것.

**제2정규화** : 제1정규화를 만족하는 테이블에 대해 수행하는 것으로, 속성 중 하나라도 기본키에 부분적 함수 종속이 되면 안 되는 것. 제2정규화는 테이블을 분해해 부분적 함수 종속을 제거함.

:memo: **부분적 함수 종속** : 기본키 중 특정 속성에만 종속된 속성이 있는 것.

<br />

## 2.3.5 트랜잭션

**트랜잭션(Transaction)** : 하나의 논리적 기능을 수행하기 위한 작업의 단위 또는 한꺼번에 수행돼야 할 일련의 연산을 의미함. 일반적으로 데이터베이스에서 데이터를 조작하는 연산을 할 때 트랜잭션 단위로 묶어 수행함.

**커밋(Commit)** : 트랜잭션이 정상적으로 처리하였을 때 수행하여 작업을 완료함.

**롤백(Rollback)** : 트랜잭션 단위로 작업을 수행하다가 오류가 발생하면 작업을 하기 전 상황으로 되돌리는 것.

<br />

## 2.3.6 데이터베이스 정리

데이터베이스는 웹 애플리케이션의 데이터를 효과적으로 관리하고 웹 애플리케이션과 사용자의 정보 교환을 최적화하는 데 필요한 기술과 원칙을 제공.

DBMS는 크게 **RDMS**와 **NoSQL**로 나뉨. (4장에서 자세히 살펴봄.)
