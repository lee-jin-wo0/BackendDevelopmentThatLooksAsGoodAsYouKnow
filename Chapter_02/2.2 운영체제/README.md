# 2.2 운영체제

**운영체제(OS, Operating System)** : 사용자가 컴퓨터를 쉽게 다룰 수 있도록 사용자와 컴퓨터 사이에서 인터페이스를 제공하고, 컴퓨터 시스템의 자원을 효율적으로 관리 및 분배하는 역할.

운영체제의 주요 기능 : 프로세스 관리, 메모리 관리, 파일 시스템 관리, 네트워크 관리.

<br />

## 2.2.1 프로세스와 스레드

### 프로세스

**프로세스** : 컴퓨터에서 현재 실행 중인 프로그램.

**프로그램** : 어떤 작업을 처리하기 위한 일련의 명령어 모음. 평소에는 보조 기억 장치인 디스크에 저장돼 있음.

사용자가 프로그램을 실행하면 디스크에 있던 프로그램이 메모리(RAM)에 올라오고(Load), 메모리에 저장된 명령어가 CPU를 차지함으로써 실행할 수 있게 됨. 메모리에 올라와 CPU를 점유하며 실행 중인 프로그램을 **프로세스**라고 함.

<br />

:warning: 프로그램은 하나이지만 프로세스는 여러 개일 수 있음.

ex) 구글 크롬의 경우 프로그램은 하나이지만 크롬 창을 여러 개 띄우고 동시에 작업할 수 있음.

<br />

### 스레드

**스레드(Thread)** : 프로세스 내에서 작업을 처리하는 실행 단위. 프로세스가 할당받은 자원(CPU, 메모리 등)을 이용해 작업을 처리.

**메인 스레드(Main Thread)** : 프로세스가 최소 하나 이상의 스레드를 가지는 것.

프로세스의 **메모리 구조** : 각각의 프로세스는 코드 영역, 데이터 영역, 힙 영역, 스택 영역으로 나뉘어 저장됨. 만약 하나의 프로세스 내에 여러 개의 스레드가 있다면 스택 영역만 따로 할당 받고 나머지 영역을 공유함. 즉, 프로세스 내 코드 영역, 데이터 영역, 힙 영역을 서로 공유하면서 실행됨(스택 영역은 공유하지 않음).

**멀티스레드(Multi-Thread)** : 하나의 프로세스를 여러 개의 스레드로 구성하고 둘 이상의 스레드가 동시에 작업을 처리하는 방식.

멀티 스레드는 작업을 분할해 동시에 처리함으로써 성능을 향상하고 자원을 효율적으로 사용할 수 있게 함. 하지만 여러 스레드가 자원을 공유하기 때문에 동기화 등의 문제가 발생할 수 있으므로 스레드 동기화 기술이 필요함.

<br />

## 2.2.2 콘텍스트 스위칭

컴퓨터에서 동시에 처리할 수 있는 최대 작업 수 = **CPU의 코어(core) 수**

**멀티태스킹(Multi-Tasking)** : CPU의 코어 수 보다 더 많은 작업이 실행되면 각 코어는 정해진 시간 동안 여러 작업을 빠른 속도로 작업을 번갈아 수행하며 작업이 동시에 실행되는 것처럼 느끼는 것.

**콘텍스트 스위칭(Context Switching)** : 멀티태스킹을 할 때는 여러 작업을 번갈아가며 할 수 있도록 실행 중인 작업을 교체하는 것.

<br />

## 2.2.3 공유 자원과 동기화 문제

**경쟁 조건(Race Condition)** : 2개 이상의 스레드가 동시에 같은 자원에 접근해 읽기나 쓰기 작업을 수행했을 때 발생.

**임계 영역(critical section)** : 경쟁 조건 문제가 발생할 수 있는 코드 상의 특정 부분. 

<br />

:warning: 임계 영역에서 경쟁 조건 문제가 발생하지 않으려는 조건 3가지

**상호 배제(mutual exclusive)** : 하나의 스레드가 임계 영역에서 실행 중일 때는 다른 스레드가 임계 영역에 들어갈 수 없음.

**진행(progress)** : 임계 영역에서 실행 중인 스레드가 없을 때만 다른 스레드가 임계 영역에 들어갈 수 있음.

**한정 대기(bounded waiting)** : 특정 스레드가 임계 영역을 무한히 기다리지 않음. 어떤 스레드이든 유한한 시간이 지나면 임계 영역에 들어갈 수 없음.

<br />

## 2.2.4 운영체제 정리

스레드의 개념을 이해하고 싱글스레드와 멀티스레드의 차이를 알면 백엔드 개발 시 동시성 프로그래밍을 효과적으로 할 수 있음.

:sassy_man: 핵심 키워드

:blue_book: 세마포어(Semaphore)

:blue_book: 데드룩(Deadlock)

:blue_book: 기아 현상(Starvation)

:blue_book: 식사하는 철학자 문제(Dining-Philosopher problem)

:blue_book: 피터슨 알고리즘(Peterson's Algorithm)

:blue_book: CPU 스케줄링 알고리즘 : FCFS, SJF, SRF, RR
